package ru.ac.uniyar.mf.sevas.practic;

import java.nio.channels.ScatteringByteChannel;
import java.util.Scanner;

public class Main {

    public static void main(String[] args) {
	System.out.println("Введите выражение: ");
    Scanner in = new Scanner(System.in);
    String data = in.nextLine();
    //первое введенное выражение поделенное
    String[] firstP = data.split(" ");
    //поделили самую первую строку на две части
    String leftVal = firstP[0];
    String rightVal = firstP[2];
    String[] left = leftVal.split("/");
    String[] right = rightVal.split("/");
    int leftNum = 0;
    int rightNum = 0;
    int leftZnam = 0;
    int leftChisl = 0;
    int rightZnam = 0;
    int rightChisl = 0;
    boolean leftFlag = false;
    boolean rightFlag = false;
    if (left.length == 1) {
        leftNum = Integer.parseInt(left[0]);
        leftFlag = true;
    } else {
        leftZnam = Integer.parseInt(left[1]);
        if (leftZnam == 0) {
            System.out.println("деление на ноль!");
            return;
        }
        leftChisl = Integer.parseInt(left[0]);
    }
    if (right.length == 1) {
        rightNum = Integer.parseInt(right[0]);
        rightFlag = true;
    } else {
        rightZnam = Integer.parseInt(right[1]);
        if (rightZnam == 0){
            System.out.println("деление на ноль!");
            return;
        }
        rightChisl = Integer.parseInt(right[0]);
    }
    String res;
    switch (firstP[1]) {
        case "+":
            if (rightFlag == true) {
                res = String.valueOf(leftNum + rightNum);
                System.out.println(res);
            } else {
                int resChisl = leftChisl*rightZnam + rightChisl*leftZnam;
                int resZnam = leftZnam*rightZnam;
                if (resChisl == 0) {
                    System.out.println(0);
                    break;
                }
                res = String.valueOf(resChisl) + "/" + String.valueOf(resZnam);
                System.out.println(res);
            }
            break;
        case "-":
            if (rightFlag == true) {
                res = String.valueOf(leftNum - rightNum);
                System.out.println(res);
            } else {
                int resChisl = leftChisl*rightZnam - rightChisl*leftZnam;
                int resZnam = leftZnam*rightZnam;
                if (resChisl == 0) {
                    System.out.println(0);
                    break;
                }
                res = String.valueOf(resChisl) + "/" + String.valueOf(resZnam);
                System.out.println(res);
            }
            break;
        case "*":
            if (rightFlag == true) {
                res = String.valueOf(leftNum*rightNum);
                System.out.println(res);
            } else {
                int resChisl = leftChisl*rightChisl;
                int resZnam = leftZnam*rightZnam;
                if (resChisl == 0) {
                    System.out.println(0);
                    break;
                }
                res = String.valueOf(resChisl) + "/" + String.valueOf(resZnam);
                System.out.println(res);
            }
            break;
        case "/":
            if (rightFlag == true) {
                try {
                    int temp = (int) leftNum / (int) rightNum;
                    res = String.valueOf(temp);
                    System.out.println(res);
                } catch (ArithmeticException e) {
                    System.out.println("деление на ноль");
                }
            } else {
                int resChisl = leftChisl*rightZnam;
                int resZnam = leftZnam*rightChisl;
                if (resChisl == 0) {
                    System.out.println(0);
                    break;
                }
                res = String.valueOf(resChisl) + "/" + String.valueOf(resZnam);
                System.out.println(res);
            }
            break;
    }

    }
}
